{"version":3,"sources":["index.js"],"names":["$","loadimg","src","Deferred","dtd","img","Image","onload","resolve","promise","when","done","each","i","addClass","textillate","in","initialDelay","effect","String","prototype","format","args","Array","slice","call","arguments","count","replace","s","window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","step","lines","text1","loop","canvas","document","getElementById","ctx","getContext","height","parentNode","offsetHeight","width","offsetWidth","css","clearRect","boHeight","posHeight","j","length","fillStyle","angle","Math","PI","deltaHeight","sin","deltaHeightRight","cos","beginPath","moveTo","bezierCurveTo","lineTo","closePath","fill"],"mappings":"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","file":"../index.js","sourcesContent":["/**\n * Created by du on 16/10/14.\n */\nimport \"./../js/lib/jquery.lettering-0.6.1.min.js\"\nimport \"./../js/lib/jquery.textillate.js\"\n$(function () {\n    function loadimg(src) {\n        return $.Deferred(function (dtd) {\n            var img = new Image;\n            img.src = src;\n            img.onload = function () {\n                dtd.resolve()\n            }\n        }).promise();\n    }\n    $.when(loadimg(\"dist/img/cloud_1.png\"),\n        loadimg(\"dist/img/cloud_2.png\"),\n        loadimg(\"dist/img/cloud_3.png\"))\n        .done(function () {\n            $(\".sky div\").each(function (i) {\n                $(this).addClass(\"clouds_\" + (i+1));\n            })\n        })\n\n    $('.text1').textillate({in: {initialDelay: 2000,effect: 'rollIn'}});\n    $('.text2').textillate({\n        initialDelay: 3000, \t//设置动画开始时间\n        in: {\n            effect: 'flipInX'\t//设置动画名称\n        }\n    });\n    $('.text3').textillate({\n        initialDelay: 5000, \t//设置动画开始时间\n        in: {\n            effect: 'flipInX'\t//设置动画名称\n        }\n    });\n    $('.text4').textillate({\n        initialDelay: 7000,\n        in: {effect: 'bounceInDown'}\n    });\n})\nString.prototype.format = function () {\n    var args = Array.prototype.slice.call(arguments);\n    var count = 0;\n    return this.replace(/%s/g, function (s, i) {\n        return args[count++];\n    });\n}\n\nwindow.requestAnimFrame = (function () {\n    return window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        function (callback) {\n            window.setTimeout(callback, 1000 / 60);\n        };\n})();\n\nvar step = 0;\n//定义三条不同波浪的颜色\nvar lines = [\"rgba(19, 94, 148, .8)\",\n    \"rgba(19, 94, 148, .8)\",\n    \"rgba(19, 94, 148, .8)\"\n];\nvar text1=$(\".text1\")\nfunction loop() {\n    var canvas = document.getElementById('canvas');\n    var ctx = canvas.getContext('2d');\n    var height=canvas.parentNode.offsetHeight;\n    canvas.width = canvas.parentNode.offsetWidth;\n    canvas.height =height ;\n    text1.css(\"paddingTop\",height *.2)\n    ctx.clearRect(0, 0, canvas.width, height);\n    // 波浪大小\n    var boHeight = height / 18;\n    var posHeight = height / 1.2;\n    //初始角度为0\n    step++;\n    for (var j = lines.length - 1; j >= 0; j--) {\n        ctx.fillStyle = lines[j];\n        //每个矩形的角度都不同，每个之间相差45度\n        var angle = (step + j * 50) * Math.PI / 180;\n        var deltaHeight = Math.sin(angle) * boHeight;\n        var deltaHeightRight = Math.cos(angle) * boHeight;\n        ctx.beginPath();\n        ctx.moveTo(0, posHeight + deltaHeight);\n        ctx.bezierCurveTo(canvas.width / 2,\n            posHeight + deltaHeight - boHeight, canvas.width / 2,\n            posHeight + deltaHeightRight - boHeight,\n            canvas.width,\n            posHeight + deltaHeightRight);\n        ctx.lineTo(canvas.width, canvas.height);\n        ctx.lineTo(0, canvas.height);\n        ctx.lineTo(0, posHeight + deltaHeight);\n        ctx.closePath();\n        ctx.fill();\n    }\n    requestAnimFrame(loop);\n}\nloop();\n"]}